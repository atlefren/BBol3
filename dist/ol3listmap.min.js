/*! bbol3 02-12-2014 23:52 */

var BW=this.BW||{};!function(a){"use strict";a.FeatureModel=Backbone.Model.extend({initialize:function(a){_.extend(a.feature,Backbone.Events),this.get("feature").on("over",this.featureOver,this),this.get("feature").on("out",this.featureOut,this),this.get("feature").on("select",this.featureSelect,this),this.get("feature").on("deselect",this.featureDeselect,this),this.on("over",this.highlightFeature,this),this.on("out",this.unhighlightFeature,this),this.on("select",this.selectFeature,this),this.on("deselect",this.deselectFeature,this)},featureOver:function(){this.trigger("over")},featureOut:function(){this.trigger("out")},featureSelect:function(a){this.trigger("select",a)},featureDeselect:function(a){this.trigger("deselect",a)},selectFeature:function(){this.get("feature").setStyle(this.collection.options.selectStyle),this.get("feature").select=!0},deselectFeature:function(){this.get("feature").setStyle(this.collection.options.featureStyle),this.get("feature").select=!1},highlightFeature:function(){this.get("feature").setStyle(this.collection.options.selectStyle)},unhighlightFeature:function(){this.get("feature").select||this.get("feature").setStyle(this.collection.options.featureStyle)}}),a.FeatureCollection=Backbone.Collection.extend({model:a.FeatureModel,reset:function(a,b){var c=new ol.format.GeoJSON,d=a.map(function(a){return a instanceof Backbone.Model?(a.set("feature",new ol.Feature({geometry:c.readGeometry(a.get("geometry"))})),a.unset("geometry",{silent:!0})):(a.feature=new ol.Feature({geometry:c.readGeometry(a.geometry)}),delete a.geometry),a}),e=Backbone.Collection.prototype.reset.apply(this,[d,b]);return e},initialize:function(a,b){this.options=b,this.on("select",this.featureSelected,this),this.on("reset",this.parseFeatures,this)},featureSelected:function(a){this.each(function(b){b.get("feature")!==a&&b.trigger("deselect",b.get("feature"))})},getLayer:function(){return this.layer||(this.vectorSource=new ol.source.Vector,this.layer=new ol.layer.Vector({source:this.vectorSource,style:this.options.featureStyle}),this.each(function(a){this.vectorSource.addFeature(a.get("feature"))},this)),this.layer}})}(BW);var BW=this.BW||{};!function(a){"use strict";a.ListMapView=Backbone.View.extend({events:{mouseover:"mouseover",mouseout:"mouseout",click:"click"},initialize:function(){this.model.on("over",this.highlight,this),this.model.on("out",this.unhighlight,this),this.model.on("select",this.select,this),this.model.on("deselect",this.deselect,this),this.selected=!1},render:function(){return this},click:function(){this.selected?this.model.trigger("deselect",this.model.get("feature")):this.model.trigger("select",this.model.get("feature"))},mouseover:function(){this.model.trigger("over")},mouseout:function(){this.model.trigger("out")},highlight:function(){return this},unhighlight:function(){return this},select:function(){this.selected=!0},deselect:function(){this.selected=!1}})}(BW);
//# sourceMappingURL=ol3listmap.min.map