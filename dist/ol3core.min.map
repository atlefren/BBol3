{"version":3,"file":"ol3core.min.js","sources":["ol3core.js"],"names":["BW","this","MapModel","Layer","config","defaults","subLayers","name","categoryId","visibleOnLoad","isVisible","isBaseLayer","previewActive","opacity","mapLayerIndex","legendGraphicUrls","layerInstance","$","extend","_","map","subLayer","SubLayer","Map","_getLayers","undefined","layers","getBaseLayers","filter","elem","getOverlayLayers","_setUpLayerIndex","i","j","baseLayer","layerIndex","baseLayers","length","k","l","overlayLayer","overlayLayers","initMap","targetId","mapConfig","callback","proxyHost","numZoomLevels","newMapRes","newMaxRes","t","sm","ol","proj","Projection","code","coordinate_system","extent","units","extentUnits","target","renderer","view","View","projection","center","zoom","resolutions","maxResolution","controls","overlays","_getVisibleBaseLayers","_createLayer","bwSubLayer","layer","source","SOURCES","wmts","WmtsSource","proxyWmts","url","wms","WmsSource","proxyWms","tiled","Tile","Image","guid","id","_showBaseLayer","bwLayer","getLayers","insertAt","setBaseLayer","init","getFirstVisibleBaseLayer","getLayerById","Init","GetOverlayLayers","GetBaseLayers","GetLayerById","GetFirstVisibleBaseLayer","SetBaseLayer","z","projectionExtent","getExtent","size","getWidth","Array","matrixIds","Math","pow","getCode","WMTS","format","matrixSet","crossOrigin","tileGrid","tilegrid","origin","getTopLeft","TileWMS","params","LAYERS","VERSION","transparent","ImageWMS","FORMATS","imagepng","isQueryable","instance","vector","imagejpeg","Repository","ns","_createConfig","result","tools","MapConfig","extentunits","getConfig","parse","data","isString","JSON","e","getJSON","MapCore","setupMap","mapDiv","mapModel"],"mappings":"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"}